{"ast":null,"code":"var _jsxFileName = \"/home/isaac/Final/Ajali-B/frontend/src/components/Modal/modal.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useContext, useEffect } from 'react';\nimport './modal.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Modal = ({\n  id,\n  latitude,\n  longitude,\n  description,\n  isOpen,\n  setIsOpen\n}) => {\n  _s();\n  const [latitud, setLatitude] = useState(latitude);\n  const [longitud, setLongitude] = useState(longitude);\n  const [descriptio, setDescription] = useState(description);\n  const [images, setImages] = useState([]);\n  if (isOpen === false) {\n    return null;\n  }\n  const handleSubmit = () => {\n    fetch(`/reports/${id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        latitude: latitud,\n        longitude: longitud,\n        description: descriptio\n      })\n    }).then(r => {\n      if (!r.ok) {\n        throw new Error(`Failed to patch message: ${r.statusText}`);\n      }\n      return r.json();\n    }).then(updatedMessage => {\n      console.log(updatedMessage);\n    }).catch(error => {\n      console.error('Error fetching message', error.message);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"modalbutton\",\n        onClick: () => {\n          setIsOpen(false);\n        },\n        className: \"close\",\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal__content\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          id: \"modal_form\",\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"latsdivs\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"lat\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Latitude\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                id: \"latitude\",\n                placeholder: latitude,\n                value: latitud,\n                onChange: event => setLatitude(event.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"long\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Longitude\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                id: \"longitude\",\n                placeholder: longitude,\n                value: longitud,\n                onChange: event => setLongitude(event.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"imgdiv\",\n            children: images && images.map(im => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"imgdiv__images\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: im.file_url,\n                alt: \"image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 37\n              }, this)\n            }, im.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              type: \"text\",\n              id: \"description\",\n              placeholder: description,\n              value: descriptio,\n              onChange: event => setDescription(event.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"buttondiv\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"reportbutton\",\n              children: \"Finish\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mapbox\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n_s(Modal, \"EHnopmU2JTG5oi2mh74DSCQLHxQ=\");\n_c = Modal;\nexport default Modal;\nvar _c;\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"names":["useState","useContext","useEffect","axios","jsxDEV","_jsxDEV","Modal","id","latitude","longitude","description","isOpen","setIsOpen","_s","latitud","setLatitude","longitud","setLongitude","descriptio","setDescription","images","setImages","handleSubmit","fetch","method","headers","body","JSON","stringify","then","r","ok","Error","statusText","json","updatedMessage","console","log","catch","error","message","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","event","target","map","im","src","file_url","alt","_c","$RefreshReg$"],"sources":["/home/isaac/Final/Ajali-B/frontend/src/components/Modal/modal.jsx"],"sourcesContent":["import { useState, useContext, useEffect } from 'react';\nimport './modal.css';\nimport axios from 'axios';\n\nconst Modal = ({ id, latitude, longitude, description, isOpen, setIsOpen }) => {\n    const [latitud, setLatitude] = useState(latitude);\n    const [longitud, setLongitude] = useState(longitude);\n    const [descriptio, setDescription] = useState(description);\n    const [images, setImages] = useState([]);\n\n\n    if (isOpen === false) {\n        return null;\n    }\n\n\n    const handleSubmit = () => {\n        fetch(`/reports/${id}`, {\n            method: \"PATCH\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n                latitude: latitud,\n                longitude: longitud,\n                description: descriptio,\n            }),\n        })\n            .then((r) => {\n                if (!r.ok) {\n                    throw new Error(`Failed to patch message: ${r.statusText}`);\n                }\n                return r.json();\n            })\n            .then((updatedMessage) => {\n                console.log(updatedMessage)\n            })\n            .catch((error) => {\n                console.error('Error fetching message', error.message)\n            });\n    }\n\n    return (\n        <div className='overlay'>\n            <div className='modal'>\n                <button id='modalbutton' onClick={() => { setIsOpen(false) }} className='close'>X</button>\n                <div className='modal__content'>\n                    <form id='modal_form' onSubmit={handleSubmit}>\n                        <div className='latsdivs'>\n                            <div id='lat'>\n                                <label>Latitude</label>\n                                <input\n                                    type='number'\n                                    id='latitude'\n                                    placeholder={latitude}\n                                    value={latitud}\n                                    onChange={(event) => setLatitude(event.target.value)}\n                                />\n                            </div>\n                            <div id='long'>\n                                <label>Longitude</label>\n                                <input\n                                    type='number'\n                                    id='longitude'\n                                    placeholder={longitude}\n                                    value={longitud}\n                                    onChange={(event) => setLongitude(event.target.value)}\n                                />\n                            </div>\n                        </div>\n                        <div className='imgdiv'>\n                            {images && images.map((im) => (\n                                <div key={im.id} className='imgdiv__images'>\n                                    <img src={im.file_url} alt='image' />\n                                </div>\n                            ))}\n                        </div>\n                        <div>\n                            <textarea\n                                type='text'\n                                id='description'\n                                placeholder={description}\n                                value={descriptio}\n                                onChange={(event) => setDescription(event.target.value)}\n                            ></textarea>\n                        </div>\n                        <div id='buttondiv'><button type='submit' className='reportbutton'>Finish</button></div>\n                    </form>\n                    <div className='mapbox'>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Modal;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}