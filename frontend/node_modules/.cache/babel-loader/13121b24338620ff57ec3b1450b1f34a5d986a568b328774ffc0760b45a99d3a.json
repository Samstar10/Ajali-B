{"ast":null,"code":"var _jsxFileName = \"/home/isaac/Final/Ajali-B/frontend/src/components/Login/Login.jsx\",\n  _s = $RefreshSig$();\nimport { Link, useNavigate } from \"react-router-dom\";\nimport React, { useState } from \"react\";\nimport './Login.css';\nimport LogNav from \"../LogNav/lognav\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faLock } from '@fortawesome/free-solid-svg-icons';\nimport { faUser } from '@fortawesome/free-solid-svg-icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = ({\n  authenticated,\n  setIsAuthenticated\n}) => {\n  _s();\n  const [username, setUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [fontDisplay, setFontDisplay] = useState(true);\n  const [fontDisplay2, setFontDisplay2] = useState(true);\n  const navigate = useNavigate();\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setFontDisplay(true);\n    setFontDisplay2(true);\n    try {\n      const response = await fetch(\"/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          username: username,\n          password: password\n        })\n      });\n      if (!response.ok) {\n        throw new Error(\"Error while validating user\");\n      }\n      const data = await response.json();\n      setUserName(\"\");\n      setPassword(\"\");\n      const access = data.access_token;\n      localStorage.setItem(\"access_token\", access);\n      setIsAuthenticated(true);\n      navigate(\"/dashboard/reportaccident\");\n    } catch (error) {\n      console.error(\"login failed\", error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(LogNav, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"loginform\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loginform__text\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Please enter your email and password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"emaildiv\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"username\",\n          className: \"emailinput\",\n          id: \"email\",\n          placeholder: \"Enter Username\",\n          value: username,\n          onChange: event => {\n            setUserName(event.target.value);\n            setFontDisplay(false);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), fontDisplay && /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          className: \"fauser\",\n          icon: faUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"passwordiv\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"passwordinput\",\n          id: \"password\",\n          placeholder: \"Password\",\n          value: password,\n          onChange: event => {\n            setPassword(event.target.value);\n            setFontDisplay2(false);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), fontDisplay2 && /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          className: \"falock\",\n          icon: faLock\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"linkdiv\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/ResetPassword\",\n            style: {\n              WebkitTextFillColor: \"#fff\"\n            },\n            children: \"Forgot Password?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"loginbutton\",\n        type: \"submit\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"784GARhN7YGpzz/YWVNBNH4UgIY=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["Link","useNavigate","React","useState","LogNav","FontAwesomeIcon","faLock","faUser","jsxDEV","_jsxDEV","Login","authenticated","setIsAuthenticated","_s","username","setUserName","password","setPassword","fontDisplay","setFontDisplay","fontDisplay2","setFontDisplay2","navigate","handleSubmit","event","preventDefault","response","fetch","method","headers","body","JSON","stringify","ok","Error","data","json","access","access_token","localStorage","setItem","error","console","message","children","className","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","type","id","placeholder","value","onChange","target","icon","to","style","WebkitTextFillColor","_c","$RefreshReg$"],"sources":["/home/isaac/Final/Ajali-B/frontend/src/components/Login/Login.jsx"],"sourcesContent":["import { Link, useNavigate } from \"react-router-dom\";\nimport React, { useState } from \"react\";\nimport './Login.css';\nimport LogNav from \"../LogNav/lognav\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faLock } from '@fortawesome/free-solid-svg-icons';\nimport { faUser } from '@fortawesome/free-solid-svg-icons';\n\n\nconst Login = ({authenticated, setIsAuthenticated}) => {\n\n    const [username, setUserName] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [fontDisplay, setFontDisplay] = useState(true)\n    const [fontDisplay2, setFontDisplay2] = useState(true)\n\n    const navigate = useNavigate();\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n\n        setFontDisplay(true)\n        setFontDisplay2(true)\n\n        try {\n            const response = await fetch(\"/login\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({\n                    username: username,\n                    password: password,\n                }),\n            });\n\n            if (!response.ok) {\n                throw new Error(\"Error while validating user\");\n            }\n\n            const data = await response.json();\n            setUserName(\"\");\n            setPassword(\"\");\n            const access = data.access_token;\n            localStorage.setItem(\"access_token\", access);\n            setIsAuthenticated(true)\n\n            navigate(\"/dashboard/reportaccident\")\n        } catch (error) {\n            console.error(\"login failed\", error.message)\n        }\n    };\n\n    return (\n        <LogNav>\n            <form className=\"loginform\" onSubmit={handleSubmit}>\n                <div className=\"loginform__text\">\n                    <h1>Login</h1>\n                    <h3>Please enter your email and password</h3>\n                </div>\n                <div className=\"emaildiv\">\n                    <input\n                        type=\"username\"\n                        className=\"emailinput\"\n                        id=\"email\"\n                        placeholder=\"Enter Username\"\n                        value={username}\n                        onChange={(event) => {\n                            setUserName(event.target.value);\n                            setFontDisplay(false);\n                        }}\n                    />\n                {fontDisplay && (\n                    <FontAwesomeIcon className=\"fauser\" icon={faUser} />\n                )}\n                </div>\n                <div className=\"passwordiv\">\n                    <input\n                        type=\"password\"\n                        className=\"passwordinput\"\n                        id=\"password\"\n                        placeholder=\"Password\"\n                        value={password}\n                        onChange={(event) => {\n                            setPassword(event.target.value);\n                            setFontDisplay2(false);\n                        }}\n                    />\n                    {fontDisplay2 && (\n                        <FontAwesomeIcon className=\"falock\" icon={faLock} />\n                    )}\n                    <div className=\"linkdiv\">\n                        <Link to={\"/ResetPassword\"} style={{ WebkitTextFillColor: \"#fff\" }}>Forgot Password?</Link>\n                    </div>\n                </div>\n                <button className=\"loginbutton\" type=\"submit\">Login</button>\n            </form>\n        </LogNav>\n    )\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}